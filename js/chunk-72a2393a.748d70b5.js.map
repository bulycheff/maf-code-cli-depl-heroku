{"version":3,"sources":["webpack:///./src/views/ReceiveView.vue?a348","webpack:///./src/views/ReceiveView.vue?d14d","webpack:///src/views/ReceiveView.vue","webpack:///./src/views/ReceiveView.vue?badc","webpack:///./src/views/ReceiveView.vue?de36"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","items","model","value","callback","$$v","title","expression","directives","name","rawName","domProps","on","$event","target","composing","dateValue","inputText","scopedSlots","_u","key","fn","ref","_g","_b","preventDefault","sendItemsToSpreadsheet","apply","arguments","_v","snackbarTimeout","isSnackbarActive","_s","snackBarText","staticRenderFns","data","selected","itemsData","beforeMount","axios","computed","codesArray","split","selectedObj","filter","methods","selectItem","console","spreadsheetId","currentDate","response","formattedDate","DD","MM","hh","mm","ss","timeStampToExcelDate","timeStamp","component","VBtn","VCol","VIcon","VRow","VSelect","VSheet","VSnackbar","VTextarea","VTooltip"],"mappings":"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","file":"js/chunk-72a2393a.748d70b5.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiveView.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"receive-page\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"d-flex col-sm-12 col-12\"},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.items,\"label\":\"Сервис-центр\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1)],1)],1),_c('div',{staticClass:\"d-flex col-sm-12 col-12\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dateValue),expression:\"dateValue\"}],attrs:{\"type\":\"datetime-local\",\"name\":\"date\",\"id\":\"date\",\"maxlength\":\"250px\"},domProps:{\"value\":(_vm.dateValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.dateValue=$event.target.value}}})])]),_c('div',{staticClass:\"col-sm-12 col-12\"},[_c('v-sheet',{staticClass:\"v-sheet-textarea-send\",attrs:{\"elevation\":\"9\"}},[_c('v-textarea',{staticClass:\"textarea-send\",attrs:{\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle\",\"height\":\"350px\",\"rows\":\"15\"},model:{value:(_vm.inputText),callback:function ($$v) {_vm.inputText=$$v},expression:\"inputText\"}})],1)],1),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',{staticClass:\"col-sm-12 col-12\"},[_c('v-btn',_vm._g(_vm._b({staticClass:\"btn-receive\",attrs:{\"block\":\"\",\"elevation\":\"8\",\"large\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.sendItemsToSpreadsheet.apply(null, arguments)}}},'v-btn',attrs,false),on),[_vm._v(\" Отправить данные \")])],1)]}}])},[_c('span',[_vm._v(\"Перед отправкой убедитесь в корректности данных\")])]),_c('v-snackbar',{attrs:{\"timeout\":_vm.snackbarTimeout,\"top\":\"\",\"right\":\"\",\"color\":\"yellow accent-3\",\"rounded\":\"\",\"content-class\":\"snackbar-receive\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._b({on:{\"click\":function($event){_vm.isSnackbarActive = false}}},'v-icon',attrs,false),[_vm._v(\"mdi-close-circle \")])]}}]),model:{value:(_vm.isSnackbarActive),callback:function ($$v) {_vm.isSnackbarActive=$$v},expression:\"isSnackbarActive\"}},[_vm._v(\" \"+_vm._s(_vm.snackBarText)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"receive-page\">\r\n\r\n    <div class=\"col-sm-12\">\r\n\r\n      <div class=\"d-flex col-sm-12 col-12\">\r\n        <v-row align=\"center\">\r\n          <v-col\r\n              class=\"d-flex\"\r\n              cols=\"12\"\r\n              sm=\"6\"\r\n          >\r\n            <v-select\r\n                :items=\"items\"\r\n                label=\"Сервис-центр\"\r\n                v-model=\"title\"\r\n            ></v-select>\r\n\r\n          </v-col>\r\n        </v-row>\r\n      </div>\r\n\r\n      <div class=\"d-flex col-sm-12 col-12\">\r\n        <input type=\"datetime-local\" name=\"date\" id=\"date\" maxlength=\"250px\" v-model=\"dateValue\">\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n    <div class=\"col-sm-12 col-12\">\r\n      <v-sheet\r\n          class=\"v-sheet-textarea-send\"\r\n          elevation=\"9\"\r\n      >\r\n\r\n        <v-textarea\r\n            v-model=\"inputText\"\r\n            class=\"textarea-send\"\r\n            clearable\r\n            clear-icon=\"mdi-close-circle\"\r\n            height=\"350px\"\r\n            rows=\"15\"\r\n        ></v-textarea>\r\n\r\n      </v-sheet>\r\n    </div>\r\n\r\n    <v-tooltip bottom>\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <div class=\"col-sm-12 col-12\">\r\n          <v-btn\r\n              class=\"btn-receive\"\r\n              block\r\n              elevation=\"8\"\r\n              large\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n              @click.prevent=\"sendItemsToSpreadsheet\"\r\n          >\r\n            Отправить данные\r\n          </v-btn>\r\n        </div>\r\n      </template>\r\n      <span>Перед отправкой убедитесь в корректности данных</span>\r\n    </v-tooltip>\r\n\r\n    <!--    SNACKBAR-->\r\n\r\n    <v-snackbar\r\n        v-model=\"isSnackbarActive\"\r\n        :timeout=\"snackbarTimeout\"\r\n        top\r\n        right\r\n        color=\"yellow accent-3\"\r\n        rounded\r\n        content-class=\"snackbar-receive\"\r\n    >\r\n      {{ snackBarText }}\r\n\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-icon\r\n            v-bind=\"attrs\"\r\n            @click=\"isSnackbarActive = false\"\r\n        >mdi-close-circle\r\n        </v-icon>\r\n      </template>\r\n    </v-snackbar>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { dateForDateTimeInputValue } from '../utils/dateTime'\r\nimport axios from 'axios'\r\nimport cfg from '../config'\r\n\r\nexport default {\r\n  name: 'SendView',\r\n  data: () => {\r\n    return {\r\n      dateValue: null,\r\n      inputText: '',\r\n      selected: {},\r\n\r\n      items: null,\r\n      title: '',\r\n      itemsData: [],\r\n\r\n      isSnackbarActive: false,\r\n      snackbarTimeout: 2000,\r\n      snackBarText: 'Информация успешно отправлена'\r\n    }\r\n  },\r\n  async beforeMount() {\r\n    this.dateValue = dateForDateTimeInputValue(new Date())\r\n\r\n    const { data } = await axios.get(`${cfg.apiUri}/info`)\r\n    this.items = data.map(item => item.title)\r\n    this.itemsData = data\r\n  },\r\n  computed: {\r\n    codesArray: function () {\r\n      if (this.inputText === '') return []\r\n      return this.inputText.split(`\\n`)\r\n    },\r\n    selectedObj: function () {\r\n      if (this.title === '') return {}\r\n      return this.itemsData.filter(item => item.title === this.title)[0]\r\n    }\r\n  },\r\n  methods: {\r\n    selectItem: function (event) {\r\n      console.log(event)\r\n    },\r\n\r\n    async sendItemsToSpreadsheet() {\r\n\r\n      const spreadsheetId = this.selectedObj.spreadsheetId\r\n      // const currentDate = new Date(this.formattedDate(this.dateValue))\r\n      const currentDate = this.timeStampToExcelDate(+new Date(this.dateValue))\r\n\r\n      const data = this.codesArray.map(code => [code, currentDate])\r\n\r\n      const response = await axios.post(`${cfg.apiUri}/write/${spreadsheetId}/receive`, data)\r\n      console.log(response)\r\n\r\n      // clear\r\n      this.dateValue = dateForDateTimeInputValue(new Date())\r\n      this.title = ''\r\n      this.inputText = ''\r\n\r\n      this.isSnackbarActive = true\r\n    },\r\n\r\n    formattedDate: function (dateValue) {\r\n      const date = new Date(dateValue)\r\n      let DD = date.getDate()\r\n      DD = DD < 10 ? `0${DD}` : `${DD}`\r\n      let MM = date.getMonth() + 1\r\n      MM = MM < 10 ? `0${MM}` : `${MM}`\r\n      let YYYY = date.getFullYear()\r\n      let hh = date.getHours()\r\n      hh = hh < 10 ? `0${hh}` : `${hh}`\r\n      let mm = date.getMinutes()\r\n      mm = mm < 10 ? `0${mm}` : `${mm}`\r\n      let ss = date.getSeconds()\r\n      ss = ss < 10 ? `0${ss}` : `${ss}`\r\n\r\n      return `${DD}.${MM}.${YYYY} ${hh}:${mm}:${ss}`\r\n    },\r\n\r\n    timeStampToExcelDate: function (timeStamp) {\r\n      return timeStamp / (1000 * 60 * 60 * 24) + 25569 + 3 / 24\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.receive-page {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n\r\n}\r\n\r\n#date:focus-visible {\r\n  outline-style: none;\r\n}\r\n\r\ninput[type=\"datetime-local\"] {\r\n  height: 32px;\r\n  text-align: left;\r\n  color: #424242;\r\n  font-size: 16px;\r\n\r\n}\r\n\r\ninput[type=\"datetime-local\"]::-webkit-calendar-picker-indicator {\r\n  margin-left: 0;\r\n  padding: 0;\r\n\r\n}\r\n\r\ninput[type=\"datetime-local\"]::-webkit-date-and-time-value {\r\n\r\n}\r\n\r\n.v-sheet-textarea-send {\r\n  min-height: 350px;\r\n  height: auto;\r\n  border-radius: 25px;\r\n  padding-top: 35px;\r\n  padding-left: 15px;\r\n}\r\n\r\n.textarea-send {\r\n  border-radius: 20px;\r\n  position: relative;\r\n  padding: 15px;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-receive {\r\n  border-radius: 12px;\r\n  background-color: #ffdd00 !important;\r\n  color: #424242 !important;\r\n  font-weight: bolder;\r\n  font-size: 1rem;\r\n}\r\n\r\n.snackbar-receive {\r\n  color: black;\r\n}\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiveView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiveView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReceiveView.vue?vue&type=template&id=175873ff&\"\nimport script from \"./ReceiveView.vue?vue&type=script&lang=js&\"\nexport * from \"./ReceiveView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReceiveView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCol,VIcon,VRow,VSelect,VSheet,VSnackbar,VTextarea,VTooltip})\n"],"sourceRoot":""}